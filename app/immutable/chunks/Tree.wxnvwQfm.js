import{a as r,b as f,c as N}from"./disclose-version.DUTDVF3e.js";import{a5 as W,K as D,a6 as X,ac as h,ad as Y,a7 as u,a8 as P,a9 as v,L as e,ab as T,m as E}from"./runtime.A5g2blTK.js";import{s as K}from"./render.C02tbr-Y.js";import{p as L,i as p}from"./if.iSSDrv-K.js";import{e as Z,i as $}from"./each.IPTudutm.js";import{d as ee}from"./events.DU2d_6da.js";import{t as q}from"./class.Bvena8yX.js";import{p as G}from"./props.DXP7wcUJ.js";var te=(d,t,s)=>t(e(s)),ae=f('<li><button class="svelte-ewl5aa"> </button></li>'),re=(d,t,s)=>t(e(s)),le=f('<button class="svelte-ewl5aa"> </button> <!>',1),oe=(d,t,s)=>t(e(s)),ne=f('<button class="svelte-ewl5aa"> </button>'),se=f("<li><!></li>"),ce=f('<ul class="svelte-ewl5aa"></ul>'),_e=f('<div class="directory"><button>+📂</button> <button>+📜</button> <!></div>');function he(d,t){W(t,!0);let s=G(t,"newFolder",3,()=>{}),H=G(t,"newPage",3,()=>{}),b=D(L([])),g=D("root");function k(l){E(g,L(l)),Object.hasOwn(t.tree[l],"children")&&(e(b).includes(l)?E(b,L(e(b).filter(c=>c!==l))):e(b).push(l))}var w=_e();{const l=(c,o=Y)=>{var B=N(),J=h(B);p(J,()=>o().type==="folder",M=>{var x=ce();Z(x,21,()=>o().children,$,(Q,a)=>{var C=N(),R=h(C);p(R,()=>t.tree[e(a)].type==="page",y=>{var i=ae(),m=u(i);m.__click=[te,k,a];var O=u(m);v(m),v(i),T(()=>{q(m,"selected",e(g)===e(a)),K(O,`📜 ${t.tree[e(a)].name??""}`)}),r(y,i)},y=>{var i=N(),m=h(i);p(m,()=>Object.hasOwn(t.tree[e(a)],"children"),O=>{var j=se(),S=u(j);p(S,()=>e(b).includes(e(a)),F=>{var n=le(),_=h(n);_.__click=[re,k,a];var U=u(_);v(_);var V=P(_,2);l(V,()=>t.tree[e(a)]),T(()=>{q(_,"selected",e(g)===e(a)),K(U,`📂 ${t.tree[e(a)].name??""}`)}),r(F,n)},F=>{var n=ne();n.__click=[oe,k,a];var _=u(n);v(n),T(()=>{q(n,"selected",e(g)===e(a)),K(_,`📁 ${t.tree[e(a)].name??""}`)}),r(F,n)}),v(j),r(O,j)},null,!0),r(y,i)}),r(Q,C)}),v(x),r(M,x)}),r(c,B)};var z=u(w);z.__click=function(...c){var o;(o=s())==null||o.apply(this,c)};var A=P(z,2);A.__click=function(...c){var o;(o=H())==null||o.apply(this,c)};var I=P(A,2);l(I,()=>t.tree.root),v(w)}r(d,w),X()}ee(["click"]);export{he as T};
