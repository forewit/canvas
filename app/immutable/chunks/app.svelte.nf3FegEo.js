import{p as n}from"./proxy.CIU44urm.js";import{s as x,g as k,b as r,c as a,a as o,d as A}from"./runtime.DGpmsJ_j.js";import{g as D}from"./firebase.svelte.BwEUVfvs.js";function v(t,s){t.style.setProperty("--bg",s.bg),t.style.setProperty("--bg-alt",s.bgAlt),t.style.setProperty("--main",s.main),t.style.setProperty("--error",s.error),t.style.setProperty("--text",s.text),t.style.setProperty("--sub",s.sub)}const I=()=>g.map(t=>t.name),g=[{name:"Canvas",bg:"#f0f0f0",bgAlt:"#ffffff",main:"#c2c3cc",error:"#f24726",sub:"#808080",text:"#858585"},{name:"Paper",bg:"#eeeeee",bgAlt:"#dddddd",main:"#444444",error:"#d70000",sub:"#b2b2b2",text:"#444444"},{name:"Rose Pine Dawn",bg:"#fffaf3",bgAlt:"#f0e9df",main:"#56949f",error:"#b4637a",sub:"#c4a7e7",text:"#286983"}];function w(){const t=D();let s=0,c=o(""),f=o(""),p=o("Canvas"),d=A(()=>g.find(e=>e.name===r(p))||g[0]),i=o(!0),m=o(1),b=o(!1),h=o("");function u(){t.publishDoc([],{lastUpdated:s,theme:r(p),spellcheck:r(i),username:r(c)})}function P(e){Object.hasOwn(e,"username")&&typeof e.username=="string"&&a(c,n(e.username)),Object.hasOwn(e,"theme")&&typeof e.theme=="string"&&a(p,n(e.theme)),Object.hasOwn(e,"spellcheck")&&typeof e.spellcheck=="boolean"&&a(i,n(e.spellcheck))}return t.subscribeToDoc([],(e,l)=>{t.isLoading||l===null||(l.lastUpdated===void 0||l.lastUpdated<s?u():l.lastUpdated>s?P(l):l.lastUpdated===s&&console.log("app in sync with user doc"))}),{get authRedirect(){return r(f)},set authRedirect(e){a(f,n(e))},get zoom(){return r(m)},set zoom(e){a(m,n(e))},get lockPage(){return r(b)},set lockPage(e){a(b,n(e))},get currentPageID(){return r(h)},set currentPageID(e){a(h,n(e))},get theme(){return r(d)},get username(){return r(c)},set username(e){a(c,n(e)),s=Date.now(),u()},get themeName(){return r(p)},set themeName(e){a(p,n(e)),s=Date.now(),u()},get spellcheck(){return r(i)},set spellcheck(e){a(i,n(e)),s=Date.now(),u()}}}const y=Symbol("app"),N=()=>{const t=w();return x(y,t)},R=()=>k(y);export{v as a,I as b,R as g,N as s,g as t};
