import{aa as L,ab as q,ac as y,ad as N,ae as x,a as s,b as B,af as M,ag as T,ah as U,O,d as E,a2 as Y,ai as $,y as j,a9 as P,aj as w,N as z}from"./runtime.DmHE6BeA.js";import{p as C}from"./if.iF3oE4Wo.js";function k(r,a,t,c){var b;var p=(t&M)!==0,_=(t&T)!==0,h=(t&U)!==0,A=(t&$)!==0,l=r[a],i=(b=L(r,a))==null?void 0:b.set,v=c,o=!0,I=()=>(A&&o&&(o=!1,v=O(c)),v);l===void 0&&c!==void 0&&(i&&_&&q(),l=I(),i&&i(l));var n;if(_)n=()=>{var e=r[a];return e===void 0?I():(o=!0,e)};else{var S=(p?E:Y)(()=>r[a]);S.f|=y,n=()=>{var e=s(S);return e!==void 0&&(v=void 0),e===void 0?v:e}}if(!(t&N))return n;if(i){var g=r.$$legacy;return function(e,u){return arguments.length>0?((!_||!u||g)&&i(u?n():e),e):n()}}var d=!1,m=j(l),f=E(()=>{var e=n(),u=s(m);return d?(d=!1,u):m.v=e});return p||(f.equals=x),function(e,u){var D=s(f);if(arguments.length>0){const R=u?s(f):_&&h?C(e):e;return f.equals(R)||(d=!0,B(m,R),s(f)),e}return D}}function F(r){P===null&&w(),P.l!==null?G(P).m.push(r):z(()=>{const a=O(r);if(typeof a=="function")return a})}function G(r){var a=r.l;return a.u??(a.u={a:[],b:[],m:[]})}export{F as o,k as p};
