import{E as g,F as q,L as M,P as N,G as x,o as s,p as y,I as B,J as T,K as U,u as O,w as b,M as w,N as G,O as Y,Q as m,R as $,v as z}from"./runtime.s8g5pai7.js";import{p as C}from"./if.D0pELIQJ.js";function Q(a,r,t,c){var R;var p=(t&B)!==0,_=(t&T)!==0,A=(t&U)!==0,L=(t&G)!==0,l=a[r],i=(R=g(a,r))==null?void 0:R.set,v=c,o=!0,I=()=>(L&&o&&(o=!1,v=O(c)),v);l===void 0&&c!==void 0&&(i&&_&&q(),l=I(),i&&i(l));var n;if(_)n=()=>{var e=a[r];return e===void 0?I():(o=!0,e)};else{var S=(p?b:w)(()=>a[r]);S.f|=M,n=()=>{var e=s(S);return e!==void 0&&(v=void 0),e===void 0?v:e}}if(!(t&N))return n;if(i){var h=a.$$legacy;return function(e,u){return arguments.length>0?((!_||!u||h)&&i(u?n():e),e):n()}}var d=!1,P=Y(l),f=b(()=>{var e=n(),u=s(P);return d?(d=!1,u):P.v=e});return p||(f.equals=x),function(e,u){var D=s(f);if(arguments.length>0){const E=u?s(f):_&&A?C(e):e;return f.equals(E)||(d=!0,y(P,E),s(f)),e}return D}}function V(a){m===null&&$(),m.l!==null?F(m).m.push(a):z(()=>{const r=O(a);if(typeof r=="function")return r})}function F(a){var r=a.l;return r.u??(r.u={a:[],b:[],m:[]})}export{V as o,Q as p};
