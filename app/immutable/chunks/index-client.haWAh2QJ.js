import{b as E,x as u,p as c,y as _,E as T,w as l,z as d,A,u as p}from"./runtime.CoKbEUpK.js";import{h as i,f as k,m as x,r as R,a as g,s as m,b as N}from"./disclose-version.BH-PvlUQ.js";function w(e,a,h,o=null,y=!1){i&&k();var n=e,t=null,s=null,f=null,b=y?T:0;E(()=>{if(f===(f=!!a()))return;let r=!1;if(i){const v=n.data===x;f===v&&(n=R(),g(n),m(!1),r=!0)}f?(t?u(t):t=c(()=>h(n)),s&&_(s,()=>{s=null})):(s?u(s):o&&(s=c(()=>o(n))),t&&_(t,()=>{t=null})),r&&m(!0)},b),i&&(n=N)}function S(e){l===null&&d(),l.l!==null?D(l).m.push(e):A(()=>{const a=p(e);if(typeof a=="function")return a})}function z(e){l===null&&d(),S(()=>()=>p(e))}function D(e){var a=e.l;return a.u??(a.u={a:[],b:[],m:[]})}export{S as a,w as i,z as o};
