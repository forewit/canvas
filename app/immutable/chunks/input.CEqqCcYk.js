import{r as n,h as g,w as y,q as k}from"./runtime.DPf4mIKn.js";import{a as q}from"./attributes.CqG-anDB.js";import{g as u,i as A}from"./if.BUEQ1AeY.js";function t(e,f,r,c=r){e.addEventListener(f,r);const _=e.__on_r;_?e.__on_r=()=>{_(),c()}:e.__on_r=c,q()}function C(e,f,r){t(e,"input",()=>{r(i(e)?b(e.value):e.value)}),n(()=>{var c=f();if(g&&e.defaultValue!==e.value){r(e.value);return}i(e)&&c===b(e.value)||e.type==="date"&&!c&&!e.value||(e.value=c??"")})}const d=new Set;function D(e,f,r,c,_){var o=r.getAttribute("type")==="checkbox",l=e;let h=!1;if(f!==null)for(var s of f)l=l[s]??(l[s]=[]);l.push(r),t(r,"change",()=>{var a=r.__value;o&&(a=m(l,a,r.checked)),_(a)},()=>_(o?[]:null)),n(()=>{var a=c();if(g&&r.defaultChecked!==r.checked){h=!0;return}o?(a=a||[],r.checked=u(a).includes(u(r.__value))):r.checked=A(r.__value,a)}),y(()=>{var a=l.indexOf(r);a!==-1&&l.splice(a,1)}),d.has(l)||(d.add(l),k(()=>{l.sort((a,v)=>a.compareDocumentPosition(v)===4?-1:1),d.delete(l)})),k(()=>{if(h){var a;if(o)a=m(l,a,r.checked);else{var v=l.find(w=>w.checked);a=v==null?void 0:v.__value}_(a)}})}function E(e,f,r){t(e,"change",()=>{var c=e.checked;r(c)}),f()==null&&r(!1),n(()=>{var c=f();e.checked=!!c})}function m(e,f,r){for(var c=new Set,_=0;_<e.length;_+=1)e[_].checked&&c.add(e[_].__value);return r||c.delete(f),Array.from(c)}function i(e){var f=e.type;return f==="number"||f==="range"}function b(e){return e===""?null:+e}export{E as a,C as b,D as c};
