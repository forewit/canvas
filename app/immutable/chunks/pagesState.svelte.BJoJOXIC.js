import{s as l,g as u,h as s}from"./runtime.CWsWNGOL.js";import{p as n}from"./proxy.DKiqHPpR.js";function p(){let a=[],c=l(n({}));u(c,n(new Proxy(s(c),{set(e,t,r){return r===e[t]||(e[t]=g(t,r),i(t)),!0},deleteProperty(e,t){return t in e?(delete e[t],i(t),!0):!1}})));const g=function(e,t){let r=l(n(t.lastUpdated)),f=l(n(t.title)),d=l(n(t.content));return{get lastUpdated(){return s(r)},get title(){return s(f)},set title(o){o!==s(f)&&(u(f,n(o)),u(r,n(Date.now())),i(e))},get content(){return s(d)},set content(o){o!==s(d)&&(u(d,n(o)),u(r,n(Date.now())),i(e))}}},U=function(e){const t=crypto.randomUUID(),r=e||{lastUpdated:Date.now(),title:"Untitled",content:""};return s(c)[t]=r,t},b=function(e){return a.push(e),()=>{a=a.filter(t=>t!==e)}},i=function(e){a.forEach(t=>t(e))};return{get pages(){return s(c)},get subscribe(){return b},get newPage(){return U}}}const m=p();export{m as p};
