import{p as n}from"./proxy.DEl-fzJA.js";import{x as p,y as c,A as u}from"./runtime.D4DqS6tz.js";const y=(s,b)=>{const{beforeUpdate:o,intercept:a}={beforeUpdate:()=>{},intercept:(r,e)=>e,...b};let t=[],l=!1;const i=(r,e)=>{l||t.forEach(f=>f(r,e))},g=r=>(t.push(r),()=>{t=t.filter(e=>e!==r)}),d=r=>{const e=l;l=!0;const f=r();return l=e,f},U={set(r,e,f){return o(r,e,f),r[e]=a(e,f),i(e,f),!0},deleteProperty(r,e){return e in r?(o(r,e),delete r[e],i(e),!0):!1}},m=new Proxy(s,U);return{get(){return m},set(r){d(()=>Object.assign(m,r)),i()},get subscribe(){return g.bind(s)},get untrack(){return d.bind(s)},get notify(){return i.bind(s)}}};function h(){let s=p(0),b=p("Canvas"),o=p(!0),a=p(n({name:"Home",subDirectories:{},pageIDs:[]}));return y({get lastUpdated(){return u(s)},set lastUpdated(t){c(s,n(t))},get themeName(){return u(b)},set themeName(t){c(b,n(t))},get spellcheck(){return u(o)},set spellcheck(t){c(o,n(t))},get root(){return u(a)},set root(t){c(a,n(t))}},{beforeUpdate:()=>{c(s,n(Date.now()))}})}const w=h();function k(){let s=n({});const b=function(a,t){let l=p(n(t.lastUpdated)),i=p(n(t.title)),g=p(n(t.content));return{get lastUpdated(){return u(l)},get title(){return u(i)},set title(d){d!==u(i)&&(c(i,n(d)),c(l,n(Date.now())),o.notify(a))},get content(){return u(g)},set content(d){d!==u(g)&&(c(g,n(d)),c(l,n(Date.now())),o.notify(a))}}},o=y(s,{intercept:(a,t)=>b(a,t)});return o}const P=k();export{y as o,P as p,w as u};
