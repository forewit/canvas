import{s as f,c as u,g as c}from"./runtime.CAZPmQP8.js";import{p as n}from"./proxy.DEkJLEVP.js";const m=(s,p)=>{const{beforeUpdate:o,intercept:a}={beforeUpdate:()=>{},intercept:(r,e)=>e,...p};let t=[],l=!1;const i=(r,e)=>{l||t.forEach(g=>g(r,e))},b=r=>(t.push(r),()=>{t=t.filter(e=>e!==r)}),d=r=>{l=!0;const e=r();return l=!1,e},U={set(r,e,g){return o(r,e,g),r[e]=a(e,g),i(e,g),!0},deleteProperty(r,e){return e in r?(o(r,e),delete r[e],i(e),!0):!1}},y=new Proxy(s,U);return{get(){return y},get subscribe(){return b.bind(s)},get untrack(){return d.bind(s)},get notify(){return i.bind(s)}}};function h(){let s=f(0),p=f("Canvas"),o=f(!0),a=f(n({name:"Home",parent:null,subDirectories:[],pageIDs:[]}));return m({get lastUpdated(){return c(s)},set lastUpdated(t){u(s,n(t))},get themeName(){return c(p)},set themeName(t){u(p,n(t))},get spellcheck(){return c(o)},set spellcheck(t){u(o,n(t))},get root(){return c(a)},set root(t){u(a,n(t))}},{beforeUpdate:()=>{u(s,n(Date.now()))}})}const w=h();function k(){let s=n({});const p=function(a,t){let l=f(n(t.lastUpdated)),i=f(n(t.title)),b=f(n(t.content));return{get lastUpdated(){return c(l)},get title(){return c(i)},set title(d){d!==c(i)&&(u(i,n(d)),u(l,n(Date.now())),o.notify(a))},get content(){return c(b)},set content(d){d!==c(b)&&(u(b,n(d)),u(l,n(Date.now())),o.notify(a))}}},o=m(s,{intercept:(a,t)=>p(a,t)});return o}const P=k();export{m as o,P as p,w as u};
