import{s as f,c as u,g as c}from"./runtime.DQzYxgOy.js";import{p as n}from"./proxy.BSfg9Vi9.js";const m=(s,p)=>{const{beforeUpdate:a,intercept:o}={beforeUpdate:()=>{},intercept:(r,e)=>e,...p};let t=[],l=!1;const i=(r,e)=>{l||t.forEach(g=>g(r,e))},b=r=>(t.push(r),()=>{t=t.filter(e=>e!==r)}),d=r=>{l=!0;const e=r();return l=!1,e},U={set(r,e,g){return a(r,e,g),r[e]=o(e,g),i(e,g),!0},deleteProperty(r,e){return e in r?(a(r,e),delete r[e],i(e),!0):!1}},h=new Proxy(s,U);return{get(){return h},get subscribe(){return b.bind(s)},get untrack(){return d.bind(s)},get notify(){return i.bind(s)}}};function y(){let s=f(0),p=f("Canvas"),a=f(!0),o=f(n({name:"Home",parent:null,subpaths:[],pageIDs:[]}));return m({get lastUpdated(){return c(s)},set lastUpdated(t){u(s,n(t))},get themeName(){return c(p)},set themeName(t){u(p,n(t))},get spellcheck(){return c(a)},set spellcheck(t){u(a,n(t))},get root(){return c(o)},set root(t){u(o,n(t))}},{beforeUpdate:()=>{u(s,n(Date.now()))}})}const D=y();function k(){let s=n({});const p=function(o,t){let l=f(n(t.lastUpdated)),i=f(n(t.title)),b=f(n(t.content));return{get lastUpdated(){return c(l)},get title(){return c(i)},set title(d){d!==c(i)&&(u(i,n(d)),u(l,n(Date.now())),a.notify(o))},get content(){return c(b)},set content(d){d!==c(b)&&(u(b,n(d)),u(l,n(Date.now())),a.notify(o))}}},a=m(s,{intercept:(o,t)=>p(o,t)});return a}const P=k();export{m as o,P as p,D as u};
