import{T as L,U as g,V as h,W as q,X as T,b as _,c as U,Y as B,Z as N,_ as Y,e as $,d as b,$ as x,a0 as M,J as V}from"./runtime.BFk_GPJU.js";import{p as Z}from"./proxy.WDhza9t3.js";function z(n,f,u,d){var R;var I=(u&B)!==0,v=(u&N)!==0,p=(u&Y)!==0,A=(u&M)!==0,s=n[f],t=(R=L(n,f))==null?void 0:R.set,l=d,c=!0,S=()=>(A&&c&&(c=!1,l=$(d)),l);s===void 0&&d!==void 0&&(t&&v&&g(),s=S(),t&&t(s));var r;if(v)r=()=>{var e=n[f];return e===void 0?S():(c=!0,e)};else{var m=(I?b:x)(()=>n[f]);m.f|=h,r=()=>{var e=_(m);return e!==void 0&&(l=void 0),e===void 0?l:e}}if(!(u&q))return r;if(t){var O=n.$$legacy;return function(e,a){return arguments.length>0?((!v||!a||O)&&t(a?r():e),e):r()}}var P=!1,o=V(s),i=b(()=>{var e=r(),a=_(o);return P?(P=!1,a):o.v=e});return I||(i.equals=T),function(e,a){var D=_(i);if(arguments.length>0){const E=a?_(i):v&&p?Z(e):e;return i.equals(E)||(P=!0,U(o,E),_(i)),e}return D}}export{z as p};
