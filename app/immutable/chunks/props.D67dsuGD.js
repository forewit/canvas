import{i as D,p as g,L as h,P as q,j as B,b as v,c as N,k as T,m as U,n as x,e as M,d as E,o as Y,t as $,v as j}from"./runtime.BmmPnVCB.js";import{p as w}from"./proxy.CCWlokwR.js";function C(n,f,u,d){var R;var I=(u&T)!==0,_=(u&U)!==0,b=(u&x)!==0,A=(u&$)!==0,s=n[f],t=(R=D(n,f))==null?void 0:R.set,l=d,c=!0,S=()=>(A&&c&&(c=!1,l=M(d)),l);s===void 0&&d!==void 0&&(t&&_&&g(),s=S(),t&&t(s));var r;if(_)r=()=>{var e=n[f];return e===void 0?S():(c=!0,e)};else{var m=(I?E:Y)(()=>n[f]);m.f|=h,r=()=>{var e=v(m);return e!==void 0&&(l=void 0),e===void 0?l:e}}if(!(u&q))return r;if(t){var L=n.$$legacy;return function(e,a){return arguments.length>0?((!_||!a||L)&&t(a?r():e),e):r()}}var P=!1,o=j(s),i=E(()=>{var e=r(),a=v(o);return P?(P=!1,a):o.v=e});return I||(i.equals=B),function(e,a){var O=v(i);if(arguments.length>0){const p=a?v(i):_&&b?w(e):e;return i.equals(p)||(P=!0,N(o,p),v(i)),e}return O}}export{C as p};
