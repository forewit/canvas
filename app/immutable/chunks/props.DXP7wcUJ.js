import{V as D,W as g,X as h,Y as q,Z as N,L as _,m as B,_ as T,$ as U,a0 as Y,O as $,N as O,a1 as x,a2 as M,t as V}from"./runtime.A5g2blTK.js";import{p as Z}from"./if.iSSDrv-K.js";function z(n,f,u,d){var R;var I=(u&T)!==0,v=(u&U)!==0,p=(u&Y)!==0,A=(u&M)!==0,s=n[f],t=(R=D(n,f))==null?void 0:R.set,l=d,c=!0,S=()=>(A&&c&&(c=!1,l=$(d)),l);s===void 0&&d!==void 0&&(t&&v&&g(),s=S(),t&&t(s));var e;if(v)e=()=>{var r=n[f];return r===void 0?S():(c=!0,r)};else{var m=(I?O:x)(()=>n[f]);m.f|=h,e=()=>{var r=_(m);return r!==void 0&&(l=void 0),r===void 0?l:r}}if(!(u&q))return e;if(t){var L=n.$$legacy;return function(r,a){return arguments.length>0?((!v||!a||L)&&t(a?e():r),r):e()}}var P=!1,o=V(s),i=O(()=>{var r=e(),a=_(o);return P?(P=!1,a):o.v=r});return I||(i.equals=N),function(r,a){var b=_(i);if(arguments.length>0){const E=a?_(i):v&&p?Z(r):r;return i.equals(E)||(P=!0,B(o,E),_(i)),r}return b}}export{z as p};
