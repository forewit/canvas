import{c as f,a as i,b as g}from"../chunks/disclose-version.CUhFZy4l.js";import{O as h,au as C,P as c,Q as y,V as E,b as u,d as L,u as b,R as S,W as T,T as A}from"../chunks/runtime.Cnk7LXRW.js";import{i as v}from"../chunks/if.BZo9BrAY.js";import{s as _}from"../chunks/snippet.DgtRBSod.js";import{o as P}from"../chunks/index-client.CccNLDfr.js";import{g as O}from"../chunks/entry.BLBqkRNH.js";import{h as $}from"../chunks/svelte-head.B6HeOcwS.js";import{g as j,s as z}from"../chunks/app.svelte.DGoy9CJd.js";import{a as D,t as F,I}from"../chunks/Icon.Bqfk2RaM.js";import{P as M}from"../chunks/ProgressBar.Bepbc4qm.js";import{b as x}from"../chunks/paths.Cjuv-4Q-.js";import{g as R,s as W}from"../chunks/firebase.svelte.D1U9I8Ju.js";import{s as q}from"../chunks/pages.svelte.CgSavqKs.js";import{s as B}from"../chunks/directories.svelte.DTfGe2dT.js";const Q=!0,V="always",ce=Object.freeze(Object.defineProperty({__proto__:null,prerender:Q,trailingSlash:V},Symbol.toStringTag,{value:"Module"}));var G=g('<meta name="viewport" content="width=device-width, user-scalable=0, initial-scale=1.0, maximum-scale=1.0, viewport-fit=cover"> <meta name="theme-color" content="var(--bg)">',1);function H(p,o){h(o,!0);const a=j();let r=L(()=>F.find(e=>e.name===a.theme));function s(){if(!screen)throw new Error("Cannot update safe areas: screen is not defined");const e=document.documentElement;switch(screen.orientation.type){case"portrait-primary":e.style.setProperty("--safe-area-top","env(safe-area-inset-top)"),e.style.setProperty("--safe-area-left","0px"),e.style.setProperty("--safe-area-right","0px");break;case"landscape-primary":e.style.setProperty("--safe-area-top","0px"),e.style.setProperty("--safe-area-left","env(safe-area-inset-left)"),e.style.setProperty("--safe-area-right","0px");break;case"landscape-secondary":e.style.setProperty("--safe-area-top","0px"),e.style.setProperty("--safe-area-left","0px"),e.style.setProperty("--safe-area-right","env(safe-area-inset-right)");break}}C(()=>{var e;if(u(r)){const t=document.documentElement;D(t,u(r)),(e=document.querySelector('meta[name="theme-color"]'))==null||e.setAttribute("content",u(r).bg)}}),P(()=>(screen.orientation.addEventListener("change",s),()=>{screen.orientation.removeEventListener("change",s)}));var m=f();$(e=>{var t=G();E(2),i(e,t)});var n=c(m);_(n,()=>o.children),i(p,m),y()}var J=g('<div class="spinner svelte-5vsa63"><span class="svelte-5vsa63"></span></div>');function K(p,o){h(o,!0);const a=R();var r=f(),s=c(r);v(s,()=>!a.isLoading,m=>{var n=f(),e=c(n);v(e,()=>a.isPublishing,t=>{var l=J();i(t,l)},t=>{I(t,{url:`${x??""}/images/icons/double-checkmark.svg`,size:"1.2em"})}),i(m,n)}),i(p,r),y()}var N=g('<div class="publishing-status svelte-1xkiws5"><!></div> <!>',1);function le(p,o){h(o,!0);const a=W();q(),B();const r=z();b(()=>{r.authRedirect=window.location.pathname}),b(()=>{!a.user&&!a.isLoading&&O(x+"/login/")}),P(()=>(window.addEventListener("beforeunload",s=>{a.isPublishing&&s.preventDefault()}),()=>{a.destroy()})),H(p,{children:(s,m)=>{var n=f(),e=c(n);v(e,()=>a.isLoading,t=>{M(t)},t=>{var l=N(),d=c(l),w=S(d);K(w,{}),T(d);var k=A(d,2);_(k,()=>o.children),i(t,l)}),i(s,n)},$$slots:{default:!0}}),y()}export{le as component,ce as universal};
