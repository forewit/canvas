import{c as x,a as d,t as u}from"../chunks/disclose-version.Bss9YEfS.js";import{Y as g,au as C,a4 as m,Z as y,af as D,d as i,f as E,ae as S,_ as P,a0 as _,u as v,$}from"../chunks/runtime.DmOoDO8L.js";import{i as B}from"../chunks/if.B6n-4H67.js";import{s as k}from"../chunks/snippet.C-4xuLl4.js";import{o as w}from"../chunks/index-client.DN7g3vFD.js";import{b as p,g as O}from"../chunks/entry.B-dZpxj4.js";import{h as R}from"../chunks/svelte-head.CVzkxkJY.js";import{g as j,s as F}from"../chunks/app.svelte.D9WIUQa3.js";import{P as M}from"../chunks/ProgressBar.DW1HY5my.js";import{s as N}from"../chunks/attributes.DpmCKYLT.js";import{g as T,s as q}from"../chunks/firebase.svelte.D2298B1x.js";import{s as z}from"../chunks/pages.svelte.CtO-pPPJ.js";import{s as W}from"../chunks/directories.svelte.BcVxy1W3.js";function h(s,a,t){if(t){if(s.classList.contains(a))return;s.classList.add(a)}else{if(!s.classList.contains(a))return;s.classList.remove(a)}}const Y=!0,Z="always",ce=Object.freeze(Object.defineProperty({__proto__:null,prerender:Y,trailingSlash:Z},Symbol.toStringTag,{value:"Module"}));var G=u('<meta name="viewport" content="width=device-width, user-scalable=0, initial-scale=1.0, maximum-scale=1.0, viewport-fit=cover"> <meta name="theme-color" content="var(--bg)">',1);function H(s,a){g(a,!0);const t=[{name:"Canvas",bg:"#f0f0f0",bgAlt:"#e6e6e6",main:"#c2c3cc",card:"#ffffff",error:"#ff5c5c",sub:"#bbbcc7",text:"#1a1a1a"},{name:"Paper",bg:"#eeeeee",bgAlt:"#dddddd",main:"#444444",card:"#444444",error:"#d70000",sub:"#b2b2b2",text:"#444444"},{name:"Rose Pine Dawn",bg:"#fffaf3",bgAlt:"#f0e9df",main:"#56949f",card:"#ea9d34",error:"#b4637a",sub:"#c4a7e7",text:"#286983"},{name:"Blueberry Light",bg:"#dae0f5",bgAlt:"#c1c7df",main:"#506477",card:"#df4576",error:"#df4576",sub:"#92a4be",text:"#678198"},{name:"Repose Dark",bg:"#2f3338",bgAlt:"#3a3c3d",main:"#d6d2bc",card:"#d6d2bc",error:"#ff4a59",sub:"#8f8e84",text:"#d6d2bc"},{name:"Carbon",bg:"#313131",bgAlt:"#2b2b2b",main:"#f66e0d",card:"#f66e0d",error:"#e72d2d",sub:"#616161",text:"#f5e6c8"},{name:"Blueberry Dark",bg:"#212b42",bgAlt:"#1b2334",main:"#add7ff",card:"#962f7e",error:"#df4576",sub:"#5c7da5",text:"#91b4d5"},{name:"One Dark",bg:"#2f343f",bgAlt:"#262b34",main:"#61afef",card:"#61afef",error:"#e06c75",sub:"#eceff4",text:"#98c379"},{name:"Dark Note",bg:"#1f1f1f",bgAlt:"#141414",main:"#f2c17b",card:"#e3dce0",error:"#ff0000",sub:"#768f95",text:"#d2dff4"},{name:"Dark",bg:"#111111",bgAlt:"#191919",main:"#eeeeee",card:"#eeeeee",error:"#da3333",sub:"#444444",text:"#eeeeee"}];function o(){if(!screen)throw new Error("Cannot update safe areas: screen is not defined");const e=document.documentElement;switch(screen.orientation.type){case"portrait-primary":e.style.setProperty("--safe-area-top","env(safe-area-inset-top)"),e.style.setProperty("--safe-area-left","0px"),e.style.setProperty("--safe-area-right","0px");break;case"landscape-primary":e.style.setProperty("--safe-area-top","0px"),e.style.setProperty("--safe-area-left","env(safe-area-inset-left)"),e.style.setProperty("--safe-area-right","0px");break;case"landscape-secondary":e.style.setProperty("--safe-area-top","0px"),e.style.setProperty("--safe-area-left","0px"),e.style.setProperty("--safe-area-right","env(safe-area-inset-right)");break}}const f=j();let n=E(()=>t.find(e=>e.name===f.themeName));C(()=>{var e;if(i(n)){const r=document.documentElement;r.style.setProperty("--bg",i(n).bg),r.style.setProperty("--bg-alt",i(n).bgAlt),r.style.setProperty("--main",i(n).main),r.style.setProperty("--card",i(n).card),r.style.setProperty("--error",i(n).error),r.style.setProperty("--sub",i(n).sub),r.style.setProperty("--text",i(n).text),(e=document.querySelector('meta[name="theme-color"]'))==null||e.setAttribute("content",i(n).bg)}}),w(()=>(screen.orientation.addEventListener("change",o),()=>{screen.orientation.removeEventListener("change",o)}));var c=x();R(e=>{var r=G();D(2),d(e,r)});var l=m(c);k(l,()=>a.children),d(s,c),y()}var I=u('<div class="status svelte-1wdncpb"><span class="status-icon svelte-1wdncpb"></span></div>');function J(s,a){g(a,!0);const t=T();var o=I(),f=P(o);N(f,"style",`-webkit-mask: url(${p??""}/images/icons/double-checkmark.svg) no-repeat center / contain;
        mask: url(${p??""}/images/icons/double-checkmark.svg) no-repeat center / contain;`),_(o),S(()=>{h(o,"saving",t.isPublishing),h(o,"saved",!t.isPublishing&&!t.isLoading)}),d(s,o),y()}var K=u('<div class="publishing-status svelte-1xkiws5"><!></div> <!>',1);function de(s,a){g(a,!0);const t=q();z(),W();const o=F();v(()=>{o.authRedirect=window.location.pathname}),v(()=>{!t.user&&!t.isLoading&&O(p+"/login/")}),w(()=>(window.addEventListener("beforeunload",f=>{t.isPublishing&&f.preventDefault()}),()=>{t.destroy()})),H(s,{children:(f,n)=>{var c=x(),l=m(c);B(l,()=>t.isLoading,e=>{M(e)},e=>{var r=K(),b=m(r),A=P(b);J(A,{}),_(b);var L=$(b,2);k(L,()=>a.children),d(e,r)}),d(f,c)},$$slots:{default:!0}}),y()}export{de as component,ce as universal};
