import{c as q,a as c,t as v}from"../chunks/disclose-version.CBUhcYe9.js";import{p as z,B,D as C,l as L,w as i,z as d,m as x,o as b,ar as F,n as S,A as m}from"../chunks/runtime.4vCN5gQe.js";import{a as D,g as E}from"../chunks/app.svelte.C_YXpmtr.js";import{b as w}from"../chunks/paths.RRWo1RKe.js";import{g as W}from"../chunks/entry.C6WDqkzQ.js";import{e as j}from"../chunks/events.CYiFnV6R.js";import{i as h}from"../chunks/if.D3RmbbZj.js";import{r as _}from"../chunks/attributes.s4vI7vNd.js";import{b as y}from"../chunks/input.D7nYat3R.js";import{P as G}from"../chunks/ProgressBar.DBth56lp.js";var H=v('<b class="error svelte-lz3ywn">Wrong password!</b>'),I=v('<form class="form svelte-lz3ywn"><input class="email svelte-lz3ywn" type="email" placeholder="Email" required> <input class="password svelte-lz3ywn" type="password" placeholder="Password" required> <!> <input type="submit" value="Login" class="btn svelte-lz3ywn"></form>');function J(f,r){z(r,!0);const e=D();let t=d(""),a=d(""),s=d(!1);async function A(){try{m(s,!1),await e.login(i(t),i(a)),r.onSuccessfulLogin()}catch{console.log("Login failed!"),m(s,!0)}}B(()=>{e.user&&r.onSuccessfulLogin()});var g=q(),P=C(g);h(P,()=>e.user,n=>{G(n)},n=>{var l=I(),p=x(l);_(p);var u=b(p,2);_(u);var R=b(u,2);h(R,()=>i(s),o=>{var k=H();c(o,k)}),F(2),S(l),j("submit",l,A),y(p,()=>i(t),o=>m(t,o)),y(u,()=>i(a),o=>m(a,o)),c(n,l)}),c(f,g),L()}var K=v('<div class="form-container svelte-swxtik"><!></div>');function $(f,r){z(r,!0);const e=E();function t(){e.authRedirect===w+"/login/"&&(e.authRedirect=w+"/"),W(e.authRedirect)}var a=K(),s=x(a);J(s,{onSuccessfulLogin:t}),S(a),c(f,a),L()}export{$ as component};
