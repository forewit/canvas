import{c as A,a as m,t as v}from"../chunks/disclose-version.CXW4hvun.js";import{W as L,v as C,ae as F,Y as x,o as i,n as d,ab as z,af as b,ag as W,ac as S,p as c}from"../chunks/runtime.yvz7FmBg.js";import{g as B,r as w,b as E}from"../chunks/app.svelte.ClmCL5DG.js";import{b as h}from"../chunks/paths.C9diV88m.js";import{g as Y}from"../chunks/entry.tzaW7vYx.js";import{e as j}from"../chunks/events.DG9fI-xF.js";import{i as _}from"../chunks/if.B2S0hjCB.js";import{b as y}from"../chunks/input.1lNOkD_i.js";import{P as D}from"../chunks/ProgressBar.fVn8PB9J.js";var G=v('<b class="error svelte-lz3ywn">Wrong password!</b>'),H=v('<form class="form svelte-lz3ywn"><input class="email svelte-lz3ywn" type="email" placeholder="Email" required> <input class="password svelte-lz3ywn" type="password" placeholder="Password" required> <!> <input type="submit" value="Login" class="btn svelte-lz3ywn"></form>');function I(f,s){L(s,!0);const e=B();let t=d(""),a=d(""),r=d(!1);async function P(){try{c(r,!1),await e.login(i(t),i(a)),s.onSuccessfulLogin()}catch{console.log("Login failed!"),c(r,!0)}}C(()=>{e.user&&s.onSuccessfulLogin()});var g=A(),R=F(g);_(R,()=>e.user,n=>{D(n)},n=>{var l=H(),u=z(l);w(u);var p=b(u,2);w(p);var k=b(p,2);_(k,()=>i(r),o=>{var q=G();m(o,q)}),W(2),S(l),j("submit",l,P),y(u,()=>i(t),o=>c(t,o)),y(p,()=>i(a),o=>c(a,o)),m(n,l)}),m(f,g),x()}var J=v('<div class="form-container svelte-swxtik"><!></div>');function Z(f,s){L(s,!0);const e=E();function t(){e.authRedirect===h+"/login/"&&(e.authRedirect=h+"/"),Y(e.authRedirect)}var a=J(),r=z(a);I(r,{onSuccessfulLogin:t}),S(a),m(f,a),x()}export{Z as component};
