import{a as O,t as V}from"../chunks/disclose-version.CCEz70Ih.js";import{m as W,b as X,h as T,q as R,t as Z,G as $,_ as Y,v as Q,w as U,p as S,c as I,x as q,a as B,y as j,a6 as ee,N as L,i as te,a7 as ae,a8 as re,a9 as ne,K as F,aa as le,ab as se,Z as oe,ac as ie,d as ce,r as fe,W as ue,o as ve,$ as _e,a5 as de,ad as pe,a0 as ge,ae as N,af as k,ag as A,f as H,k as he}from"../chunks/runtime.fZwd0kuQ.js";import{s as G}from"../chunks/render.OlFcsTVT.js";import{r as be}from"../chunks/attributes.YVOFuf72.js";import{d as xe}from"../chunks/events.zJA9eUOW.js";import{b as me}from"../chunks/input.BUjOmqJT.js";import{g as ke,b as ye}from"../chunks/entry.maudoB-l.js";import{a as Ee,g as we}from"../chunks/app.svelte.DRcnNZ_c.js";import{g as Te}from"../chunks/pages.svelte.BStyBvex.js";import{g as Ae}from"../chunks/directories.svelte.BQIOaxF8.js";let M=null;function Ce(r,e){return e}function Ie(r,e,a,i){for(var _=[],u=e.length,o=0;o<u;o++)se(e[o].e,_,!0);var d=u>0&&_.length===0&&a!==null;if(d){var g=a.parentNode;oe(g),g.append(a),i.clear(),y(r,e[0].prev,e[u-1].next)}ie(_,()=>{for(var t=0;t<u;t++){var n=e[t];d||(i.delete(n.k),y(r,n.prev,n.next)),ce(n.e,!d)}})}function Ne(r,e,a,i,_,u=null){var o=r,d={flags:e,items:new Map,first:null};{var g=r;o=T?R(fe(g)):g.appendChild(W())}T&&Z();var t=null;X(()=>{var n=a(),s=$(n)?n:n==null?[]:Y(n),c=s.length;let v=!1;if(T){var f=o.data===Q;f!==(c===0)&&(o=U(),R(o),S(!1),v=!0)}if(T){for(var h=null,l,p=0;p<c;p++){if(I.nodeType===8&&I.data===ue){o=I,v=!0,S(!1);break}var m=s[p],b=i(m,p);l=J(I,d,h,null,m,b,p,_,e),d.items.set(b,l),h=l}c>0&&R(U())}T||ze(s,d,o,_,e,i),u!==null&&(c===0?t?q(t):t=B(()=>u(o)):t!==null&&j(t,()=>{t=null})),v&&S(!0)}),T&&(o=I)}function ze(r,e,a,i,_,u){var o=r.length,d=e.items,g=e.first,t=g,n,s=null,c=[],v=[],f,h,l,p;for(p=0;p<o;p+=1){if(f=r[p],h=u(f,p),l=d.get(h),l===void 0){var m=t?t.e.nodes_start:a;s=J(m,e,s,s===null?e.first:s.next,f,h,p,i,_),d.set(h,s),c=[],v=[],t=s.next;continue}if(De(l,f,p),l.e.f&ee&&q(l.e),l!==t){if(n!==void 0&&n.has(l)){if(c.length<v.length){var b=v[0],x;s=b.prev;var C=c[0],E=c[c.length-1];for(x=0;x<c.length;x+=1)P(c[x],b,a);for(x=0;x<v.length;x+=1)n.delete(v[x]);y(e,C.prev,E.next),y(e,s,C),y(e,E,b),t=b,s=E,p-=1,c=[],v=[]}else n.delete(l),P(l,t,a),y(e,l.prev,l.next),y(e,l,s===null?e.first:s.next),y(e,s,l),s=l;continue}for(c=[],v=[];t!==null&&t.k!==h;)(n??(n=new Set)).add(t),v.push(t),t=t.next;if(t===null)continue;l=t}c.push(l),s=l,t=l.next}if(t!==null||n!==void 0){for(var w=n===void 0?[]:Y(n);t!==null;)w.push(t),t=t.next;var z=w.length;if(z>0){var D=o===0?a:null;Ie(e,w,D,d)}}L.first=e.first&&e.first.e,L.last=s&&s.e}function De(r,e,a,i){te(r.v,e),r.i=a}function J(r,e,a,i,_,u,o,d,g){var t=M;try{var n=(g&ae)!==0,s=(g&re)===0,c=n?s?ne(_):F(_):_,v=g&le?F(o):o,f={i:v,v:c,k:u,a:null,e:null,prev:a,next:i};return M=f,f.e=B(()=>d(r,c,v),T),f.e.prev=a&&a.e,f.e.next=i&&i.e,a===null?e.first=f:(a.next=f,a.e.next=f.e),i!==null&&(i.prev=f,i.e.prev=f.e),f}finally{M=t}}function P(r,e,a){for(var i=r.next?r.next.e.nodes_start:a,_=e?e.e.nodes_start:a,u=r.e.nodes_start;u!==i;){var o=ve(u);_.before(u),u=o}}function y(r,e,a){e===null?r.first=a:(e.next=a,e.e.next=a&&a.e),a!==null&&(a.prev=e,a.e.prev=e&&e.e)}var Re=(r,e)=>{e.logout()},Se=(r,e)=>{e.newFolder()},He=(r,e)=>ke(ye+"/"+e()+"/"),Me=V('<div class="page svelte-9fxzc7"><p>📄</p> <input type="text"> <button class="goto-page-button svelte-9fxzc7">Go</button> <button class="close-page-button svelte-9fxzc7">❌</button></div>'),Oe=V('<header class="svelte-9fxzc7"><button class="logout-button svelte-9fxzc7">Logout</button> <button class="spellcheck-button svelte-9fxzc7"> </button> <button class="new-page-button svelte-9fxzc7">+📄</button> <button class="new-folder-button svelte-9fxzc7">+📁</button></header> <main><section id="pages"></section> <p> </p></main>',1);function Ke(r,e){_e(e,!0);const a=Ee(),i=Te(),_=we(),u=Ae();let o=he(()=>JSON.stringify(u.root));var d=Oe(),g=de(d),t=N(g);t.__click=[Re,_];var n=k(t,2);n.__click=()=>{a.spellcheck=!a.spellcheck};var s=N(n);A(n);var c=k(n,2);c.__click=()=>{const m=crypto.randomUUID().slice(0,8),b={title:"New Page",content:"",lastUpdated:Date.now()};i[m]=b};var v=k(c,2);v.__click=[Se,u],A(g);var f=k(g,2),h=N(f);Ne(h,21,()=>Object.entries(i),Ce,(m,b)=>{let x=()=>H(b)[0],C=()=>H(b)[1];var E=Me(),w=k(N(E),2);be(w);var z=k(w,2);z.__click=[He,x];var D=k(z,2);D.__click=()=>delete i[x()],A(E),me(w,()=>C().title,K=>C().title=K),O(m,E)}),A(h);var l=k(h,2),p=N(l);A(l),A(f),pe(()=>{G(s,`Spellcheck: ${a.spellcheck??""}`),G(p,`📁 ${H(o)??""}`)}),O(r,d),ge()}xe(["click"]);export{Ke as component};
