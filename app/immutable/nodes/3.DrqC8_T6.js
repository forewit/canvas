import{d as k,a as c,t as v}from"../chunks/disclose-version.C3rfybqw.js";import{x,v as q,ag as B,z,o as i,n as d,A as L,D as b,B as F,C as S,p as m}from"../chunks/runtime.s8g5pai7.js";import{g as D,r as w,a as E}from"../chunks/app.svelte.BOHTfwmN.js";import{b as h}from"../chunks/paths.CviGfTIR.js";import{g as W}from"../chunks/entry.BnWXKdaw.js";import{e as j}from"../chunks/events.D0zwNnL9.js";import{i as _}from"../chunks/if.D0pELIQJ.js";import{b as y}from"../chunks/input.CBVZyRr6.js";import{P as G}from"../chunks/ProgressBar.Cef2Vq22.js";var H=v('<b class="error svelte-lz3ywn">Wrong password!</b>'),I=v('<form class="form svelte-lz3ywn"><input class="email svelte-lz3ywn" type="email" placeholder="Email" required> <input class="password svelte-lz3ywn" type="password" placeholder="Password" required> <!> <input type="submit" value="Login" class="btn svelte-lz3ywn"></form>');function J(u,s){x(s,!0);const e=D();let t=d(""),a=d(""),r=d(!1);async function A(){try{m(r,!1),await e.login(i(t),i(a)),s.onSuccessfulLogin()}catch{console.log("Login failed!"),m(r,!0)}}q(()=>{e.user&&s.onSuccessfulLogin()});var g=k(),C=B(g);_(C,()=>e.user,n=>{G(n)},n=>{var l=I(),f=L(l);w(f);var p=b(f,2);w(p);var P=b(p,2);_(P,()=>i(r),o=>{var R=H();c(o,R)}),F(2),S(l),j("submit",l,A),y(f,()=>i(t),o=>m(t,o)),y(p,()=>i(a),o=>m(a,o)),c(n,l)}),c(u,g),z()}var K=v('<div class="form-container svelte-swxtik"><!></div>');function Z(u,s){x(s,!0);const e=E();function t(){e.authRedirect===h+"/login/"&&(e.authRedirect=h+"/"),W(e.authRedirect)}var a=K(),r=L(a);J(r,{onSuccessfulLogin:t}),S(a),c(u,a),z()}export{Z as component};
