import{c as A,a as c,t as v}from"../chunks/disclose-version.D8fhPq9M.js";import{Y as L,u as C,a2 as F,Z as x,f as i,e as d,ad as z,ae as b,ah as B,af as S,i as m}from"../chunks/runtime.D_LhCXyF.js";import{g as E,a as W}from"../chunks/app.svelte.DnnDf6HZ.js";import{b as h,g as Y}from"../chunks/entry.DBU9UXPQ.js";import{e as Z}from"../chunks/events.BJH2iLDa.js";import{i as w}from"../chunks/if.f1rSyLTD.js";import{r as _}from"../chunks/attributes.CdCRXyt-.js";import{b as y}from"../chunks/input.DHwiiGD3.js";import{P as j}from"../chunks/ProgressBar.3-M6aTvF.js";var D=v('<b class="error svelte-lz3ywn">Wrong password!</b>'),G=v('<form class="form svelte-lz3ywn"><input class="email svelte-lz3ywn" type="email" placeholder="Email" required> <input class="password svelte-lz3ywn" type="password" placeholder="Password" required> <!> <input type="submit" value="Login" class="btn svelte-lz3ywn"></form>');function H(f,s){L(s,!0);const e=E();let t=d(""),a=d(""),r=d(!1);async function P(){try{m(r,!1),await e.login(i(t),i(a)),s.onSuccessfulLogin()}catch{console.log("Login failed!"),m(r,!0)}}C(()=>{e.user&&s.onSuccessfulLogin()});var g=A(),R=F(g);w(R,()=>e.user,n=>{j(n)},n=>{var l=G(),u=z(l);_(u);var p=b(u,2);_(p);var k=b(p,2);w(k,()=>i(r),o=>{var q=D();c(o,q)}),B(2),S(l),Z("submit",l,P),y(u,()=>i(t),o=>m(t,o)),y(p,()=>i(a),o=>m(a,o)),c(n,l)}),c(f,g),x()}var I=v('<div class="form-container svelte-swxtik"><!></div>');function X(f,s){L(s,!0);const e=W();function t(){e.authRedirect===h+"/login/"&&(e.authRedirect=h+"/"),Y(e.authRedirect)}var a=I(),r=z(a);H(r,{onSuccessfulLogin:t}),S(a),c(f,a),x()}export{X as component};
