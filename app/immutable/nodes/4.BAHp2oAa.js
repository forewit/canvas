import{n as k,o as q,f as m,z,x as t,t as g,y as L}from"../chunks/disclose-version.CoemXm11.js";import{A,u as B,B as P,h as n,g as c,s as v}from"../chunks/runtime.CWsWNGOL.js";import{P as E,g as W}from"../chunks/ProgressBar.BKc5Tr77.js";import{b as F}from"../chunks/paths.DYdJgxtv.js";import{g as I}from"../chunks/entry.CoLAyGwF.js";import{e as j}from"../chunks/events.MZf0TXMn.js";import{i as w}from"../chunks/if.DGFvA3-a.js";import{b as y,r as _}from"../chunks/input.DpgGelva.js";import{s as C,a as D,f as S}from"../chunks/firebaseState.svelte.D3AjtAtJ.js";const G=async function(r,e){await C(D,r,e)};var H=g('<b class="error svelte-lz3ywn">Wrong password!</b>'),J=g('<form class="form svelte-lz3ywn"><input class="email svelte-lz3ywn" type="email" placeholder="Email" required> <input class="password svelte-lz3ywn" type="password" placeholder="Password" required> <!> <input type="submit" value="Login" class="btn svelte-lz3ywn"></form>');function K(r,e){A(e,!0);let a=v(""),o=v(""),s=v(!1);async function f(){try{c(s,!1),await G(n(a),n(o)),e.onSuccessfulLogin()}catch{console.log("Login failed!"),c(s,!0)}}B(()=>{S.user&&e.onSuccessfulLogin()});var b=k(),x=q(b);w(x,()=>S.user,l=>{E(l)},l=>{var u=J(),p=z(u);_(p);var d=t(t(p,!0));_(d);var h=t(t(d,!0));w(h,()=>n(s),i=>{var R=H();m(i,R)}),t(t(h,!0)),L(u),j("submit",u,f),y(p,()=>n(a),i=>c(a,i)),y(d,()=>n(o),i=>c(o,i)),m(l,u)}),m(r,b),P()}var M=g('<div class="form-container svelte-swxtik"><!></div>');function $(r,e){A(e,!0);const a=W();function o(){a.authRedirect===`${F}/login/`&&(a.authRedirect="/"),I(a.authRedirect)}var s=M(),f=z(s);K(f,{onSuccessfulLogin:o}),L(s),m(r,s),P()}export{$ as component};
