import{p as x,q as B,d as u,c as L,z as t,t as g,r as q}from"../chunks/disclose-version.BkeuLsTj.js";import{A,u as E,B as P,h as i,g as m,s as v}from"../chunks/runtime.CZKCI6PF.js";import{g as F}from"../chunks/ProgressBar.svelte_svelte_type_style_lang.DVmvpBiY.js";import{b as w,g as W}from"../chunks/entry.X9XfnoHm.js";import{e as j}from"../chunks/events.D0R2PjBm.js";import{i as _}from"../chunks/if.CmkmylYq.js";import{r as y}from"../chunks/userState.svelte.D5DYRxss.js";import{b as S}from"../chunks/input.BRyxtEGD.js";import{a as C}from"../chunks/authUtils.Bop8eAqs.js";import{f as z}from"../chunks/firebaseState.svelte.Box2PqWu.js";import{P as D}from"../chunks/ProgressBar.z-4jBNsg.js";var G=g('<b class="error svelte-lz3ywn">Wrong password!</b>'),H=g('<form class="form svelte-lz3ywn"><input class="email svelte-lz3ywn" type="email" placeholder="Email" required> <input class="password svelte-lz3ywn" type="password" placeholder="Password" required> <!> <input type="submit" value="Login" class="btn svelte-lz3ywn"></form>');function I(f,a){A(a,!0);let e=v(""),s=v(""),r=v(!1);async function c(){try{m(r,!1),await C(i(e),i(s)),a.onSuccessfulLogin()}catch{console.log("Login failed!"),m(r,!0)}}E(()=>{z.user&&a.onSuccessfulLogin()});var b=x(),R=B(b);_(R,()=>z.user,n=>{D(n)},n=>{var l=H(),p=L(l);y(p);var d=t(t(p,!0));y(d);var h=t(t(d,!0));_(h,()=>i(r),o=>{var k=G();u(o,k)}),t(t(h,!0)),q(l),j("submit",l,c),S(p,()=>i(e),o=>m(e,o)),S(d,()=>i(s),o=>m(s,o)),u(n,l)}),u(f,b),P()}var J=g('<div class="form-container svelte-swxtik"><!></div>');function $(f,a){A(a,!0);const e=F();function s(){e.authRedirect===w+"/login/"&&(e.authRedirect=w+"/"),W(e.authRedirect)}var r=J(),c=L(r);I(c,{onSuccessfulLogin:s}),q(r),u(f,r),P()}export{$ as component};
