import{c as A,a as m,t as v}from"../chunks/disclose-version.0qGh4nLg.js";import{Z as x,u as C,a3 as F,_ as L,x as i,w as d,ac as z,ad as b,af as B,ae as S,y as c}from"../chunks/runtime.BpWpbmr6.js";import{g as E,a as W}from"../chunks/app.svelte.Cr2D7b-O.js";import{b as w,g as Z}from"../chunks/entry.BsAixYsS.js";import{e as j}from"../chunks/events.DV8WUsJY.js";import{i as _}from"../chunks/if.uZIarnEU.js";import{r as h}from"../chunks/attributes.CsJI-bTs.js";import{b as y}from"../chunks/input.BM1djxNn.js";import{P as D}from"../chunks/ProgressBar.DOR7MKfX.js";var G=v('<b class="error svelte-lz3ywn">Wrong password!</b>'),H=v('<form class="form svelte-lz3ywn"><input class="email svelte-lz3ywn" type="email" placeholder="Email" required> <input class="password svelte-lz3ywn" type="password" placeholder="Password" required> <!> <input type="submit" value="Login" class="btn svelte-lz3ywn"></form>');function I(u,s){x(s,!0);const e=E();let t=d(""),a=d(""),r=d(!1);async function P(){try{c(r,!1),await e.login(i(t),i(a)),s.onSuccessfulLogin()}catch{console.log("Login failed!"),c(r,!0)}}C(()=>{e.user&&s.onSuccessfulLogin()});var g=A(),R=F(g);_(R,()=>e.user,n=>{D(n)},n=>{var l=H(),f=z(l);h(f);var p=b(f,2);h(p);var k=b(p,2);_(k,()=>i(r),o=>{var q=G();m(o,q)}),B(2),S(l),j("submit",l,P),y(f,()=>i(t),o=>c(t,o)),y(p,()=>i(a),o=>c(a,o)),m(n,l)}),m(u,g),L()}var J=v('<div class="form-container svelte-swxtik"><!></div>');function Y(u,s){x(s,!0);const e=W();function t(){e.authRedirect===w+"/login/"&&(e.authRedirect=w+"/"),Z(e.authRedirect)}var a=J(),r=z(a);I(r,{onSuccessfulLogin:t}),S(a),m(u,a),L()}export{Y as component};
