import{c as W,a as m,t as g}from"../chunks/disclose-version.CTURzmtL.js";import{O as z,W as B,Z as E,P,A as o,x as p,a1 as x,a3 as d,a2 as R,y as n}from"../chunks/runtime.D4DqS6tz.js";import{P as F,a as v}from"../chunks/ProgressBar.CpJ_eYG6.js";import{b as h,g as O}from"../chunks/entry.CakyYFX8.js";import{e as Z}from"../chunks/events.BUMyFP41.js";import{i as y}from"../chunks/if.CiaBrdUu.js";import{r as _}from"../chunks/attributes.CM7B3mdt.js";import{b as L}from"../chunks/input.Dd9l6VPK.js";import{a as j}from"../chunks/authUtils.DwhJWTbG.js";import{f as S}from"../chunks/firebaseState.svelte.D5C0RHyf.js";var C=g('<b class="error svelte-lz3ywn">Wrong password!</b>'),D=g('<form class="form svelte-lz3ywn"><input class="email svelte-lz3ywn" type="email" placeholder="Email" required> <input class="password svelte-lz3ywn" type="password" placeholder="Password" required> <!> <input type="submit" value="Login" class="btn svelte-lz3ywn"></form>');function G(f,a){z(a,!0);let r=p(""),e=p(""),s=p(!1);async function k(){try{n(s,!1),await j(o(r),o(e)),a.onSuccessfulLogin()}catch{console.log("Login failed!"),n(s,!0)}}B(()=>{S.user&&a.onSuccessfulLogin()});var b=W(),q=E(b);y(q,()=>S.user,i=>{F(i)},i=>{var l=D(),u=x(l);_(u);var c=d(u,2);_(c);var w=d(c,2);y(w,()=>o(s),t=>{var A=C();m(t,A)}),d(w,2),R(l),Z("submit",l,k),L(u,()=>o(r),t=>n(r,t)),L(c,()=>o(e),t=>n(e,t)),m(i,l)}),m(f,b),P()}var H=g('<div class="form-container svelte-swxtik"><!></div>');function Y(f,a){z(a,!0);function r(){v.authRedirect===h+"/login/"&&(v.authRedirect=h+"/"),O(v.authRedirect)}var e=H(),s=x(e);G(s,{onSuccessfulLogin:r}),R(e),m(f,e),P()}export{Y as component};
