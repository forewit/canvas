import{h as g,n as O,o as T,d as c,z as E,x as o,t as h,y as R}from"../chunks/disclose-version.Y_F0_rko.js";import{Y as W,Z as Y,y as C,C as q,u as F,D as x,g as i,s as u,c as m}from"../chunks/runtime.atawwWdS.js";import{P as G,g as M}from"../chunks/ProgressBar.B2Xnii6M.js";import{b as N,g as V}from"../chunks/entry.B52UK3IH.js";import{e as Z}from"../chunks/events.CH0IXMTi.js";import{i as b}from"../chunks/if.B_SVmx97.js";import{s as j,a as H,f as w}from"../chunks/firebaseState.svelte.BRmEMasN.js";let A=!1;function B(){A||(A=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var r;if(!e.defaultPrevented)for(const s of e.target.elements)(r=s.__on_r)==null||r.call(s)})},{capture:!0}))}function L(e){if(g){var r=!1,s=()=>{if(!r){if(r=!0,e.hasAttribute("value")){var t=e.value;k(e,"value",null),e.value=t}if(e.hasAttribute("checked")){var a=e.checked;k(e,"checked",null),e.checked=a}}};e.__on_r=s,W(s),B()}}function k(e,r,s,t){s=s==null?null:s+"";var a=e.__attributes??(e.__attributes={});g&&(a[r]=e.getAttribute(r),r==="src"||r==="href"||r==="srcset")||a[r]!==(a[r]=s)&&(r==="loading"&&(e[Y]=s),s===null?e.removeAttribute(r):e.setAttribute(r,s))}function J(e,r,s,t=s){e.addEventListener(r,s);const a=e.__on_r;a?e.__on_r=()=>{a(),t()}:e.__on_r=t,B()}function S(e,r,s){J(e,"input",()=>{s(z(e)?P(e.value):e.value)}),C(()=>{var t=r();if(g&&e.defaultValue!==e.value){s(e.value);return}z(e)&&t===P(e.value)||e.type==="date"&&!t&&!e.value||(e.value=t??"")})}function z(e){var r=e.type;return r==="number"||r==="range"}function P(e){return e===""?null:+e}const K=async function(e,r){await j(H,e,r)};var Q=h('<b class="error svelte-lz3ywn">Wrong password!</b>'),U=h('<form class="form svelte-lz3ywn"><input class="email svelte-lz3ywn" type="email" placeholder="Email" required> <input class="password svelte-lz3ywn" type="password" placeholder="Password" required> <!> <input type="submit" value="Login" class="btn svelte-lz3ywn"></form>');function X(e,r){q(r,!0);let s=m(""),t=m(""),a=m(!1);async function d(){try{u(a,!1),await K(i(s),i(t)),r.onSuccessfulLogin()}catch{console.log("Login failed!"),u(a,!0)}}F(()=>{w.user&&r.onSuccessfulLogin()});var p=O(),D=T(p);b(D,()=>w.user,l=>{G(l)},l=>{var f=U(),_=E(f);L(_);var v=o(o(_,!0));L(v);var y=o(o(v,!0));b(y,()=>i(a),n=>{var I=Q();c(n,I)}),o(o(y,!0)),R(f),Z("submit",f,d),S(_,()=>i(s),n=>u(s,n)),S(v,()=>i(t),n=>u(t,n)),c(l,f)}),c(e,p),x()}var $=h('<div class="form-container svelte-swxtik"><!></div>');function ie(e,r){q(r,!0);const s=M();function t(){s.authRedirect===`${N}/login/`&&(s.authRedirect="/"),V(s.authRedirect)}var a=$(),d=E(a);X(d,{onSuccessfulLogin:t}),R(a),c(e,a),x()}export{ie as component};
