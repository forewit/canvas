import{d as A,a as u,t as v}from"../chunks/disclose-version.DutoxqwM.js";import{K as L,u as C,ah as F,M as x,l as i,k as d,O as z,P as b,Q as B,R as P,m}from"../chunks/runtime.DPf4mIKn.js";import{a as E,g as K}from"../chunks/app.svelte.DpIlZ-Nj.js";import{b as h}from"../chunks/paths.DG-qT7N-.js";import{g as M}from"../chunks/entry.Ce1uxCCD.js";import{e as O}from"../chunks/events.B9ZM7sXb.js";import{a as w}from"../chunks/if.BUEQ1AeY.js";import{r as _}from"../chunks/attributes.CqG-anDB.js";import{b as y}from"../chunks/input.CEqqCcYk.js";import{P as Q}from"../chunks/ProgressBar.tYS23xhY.js";var W=v('<b class="error svelte-lz3ywn">Wrong password!</b>'),j=v('<form class="form svelte-lz3ywn"><input class="email svelte-lz3ywn" type="email" placeholder="Email" required> <input class="password svelte-lz3ywn" type="password" placeholder="Password" required> <!> <input type="submit" value="Login" class="btn svelte-lz3ywn"></form>');function D(c,t){L(t,!0);const e=E();let r=d(""),a=d(""),s=d(!1);async function R(){try{m(s,!1),await e.login(i(r),i(a)),t.onSuccessfulLogin()}catch{console.log("Login failed!"),m(s,!0)}}C(()=>{e.user&&t.onSuccessfulLogin()});var g=A(),S=F(g);w(S,()=>e.user,n=>{Q(n)},n=>{var l=j(),f=z(l);_(f);var p=b(f,2);_(p);var k=b(p,2);w(k,()=>i(s),o=>{var q=W();u(o,q)}),B(2),P(l),O("submit",l,R),y(f,()=>i(r),o=>m(r,o)),y(p,()=>i(a),o=>m(a,o)),u(n,l)}),u(c,g),x()}var G=v('<div class="form-container svelte-swxtik"><!></div>');function $(c,t){L(t,!0);const e=K();function r(){e.authRedirect===h+"/login/"&&(e.authRedirect=h+"/"),M(e.authRedirect)}var a=G(),s=z(a);D(s,{onSuccessfulLogin:r}),P(a),u(c,a),x()}export{$ as component};
