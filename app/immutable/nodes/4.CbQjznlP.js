import{c as A,a as c,b as v}from"../chunks/disclose-version.CUhFZy4l.js";import{O as L,u as C,P as F,Q as x,b as i,a as d,R as z,T as b,V as W,W as P,c as m}from"../chunks/runtime.Cnk7LXRW.js";import{g as B}from"../chunks/app.svelte.DGoy9CJd.js";import{b as w}from"../chunks/paths.Cjuv-4Q-.js";import{g as E}from"../chunks/entry.BLBqkRNH.js";import{e as O}from"../chunks/events.D932GjPL.js";import{i as h}from"../chunks/if.BZo9BrAY.js";import{r as _}from"../chunks/attributes.BBlWWJlT.js";import{b as y}from"../chunks/input.DdWJwpeP.js";import{g as Q}from"../chunks/firebase.svelte.D1U9I8Ju.js";import{P as T}from"../chunks/ProgressBar.Bepbc4qm.js";var V=v('<b class="error svelte-lz3ywn">Wrong password!</b>'),j=v('<form class="form svelte-lz3ywn"><input class="email svelte-lz3ywn" type="email" placeholder="Email" required> <input class="password svelte-lz3ywn" type="password" placeholder="Password" required> <!> <input type="submit" value="Login" class="btn svelte-lz3ywn"></form>');function D(f,a){L(a,!0);const e=Q();let t=d(""),r=d(""),s=d(!1);async function R(){try{m(s,!1),await e.login(i(t),i(r)),a.onSuccessfulLogin()}catch{console.log("Login failed!"),m(s,!0)}}C(()=>{e.user&&a.onSuccessfulLogin()});var g=A(),S=F(g);h(S,()=>e.user,n=>{T(n)},n=>{var l=j(),u=z(l);_(u);var p=b(u,2);_(p);var k=b(p,2);h(k,()=>i(s),o=>{var q=V();c(o,q)}),W(2),P(l),O("submit",l,R),y(u,()=>i(t),o=>m(t,o)),y(p,()=>i(r),o=>m(r,o)),c(n,l)}),c(f,g),x()}var G=v('<div class="form-container svelte-swxtik"><!></div>');function ee(f,a){L(a,!0);const e=B();function t(){e.authRedirect===w+"/login/"&&(e.authRedirect=w+"/"),E(e.authRedirect)}var r=G(),s=z(r);D(s,{onSuccessfulLogin:t}),P(r),c(f,r),x()}export{ee as component};
