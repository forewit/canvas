import{c as A,a as c,b as v}from"../chunks/disclose-version.DUTDVF3e.js";import{a5 as L,M as C,ac as F,a6 as x,L as i,K as d,a7 as z,a8 as b,aa as B,a9 as S,m}from"../chunks/runtime.A5g2blTK.js";import{a as E,g as K}from"../chunks/app.svelte.CDQhUUHo.js";import{b as w}from"../chunks/paths.D5hCaknM.js";import{g as M}from"../chunks/entry.Cd7kqOMv.js";import{e as W}from"../chunks/events.DU2d_6da.js";import{i as h}from"../chunks/if.iSSDrv-K.js";import{r as _}from"../chunks/attributes.CprZQLxj.js";import{b as y}from"../chunks/input.C8ZTZ85j.js";import{P as j}from"../chunks/ProgressBar.CAxdhl-3.js";var D=v('<b class="error svelte-lz3ywn">Wrong password!</b>'),G=v('<form class="form svelte-lz3ywn"><input class="email svelte-lz3ywn" type="email" placeholder="Email" required> <input class="password svelte-lz3ywn" type="password" placeholder="Password" required> <!> <input type="submit" value="Login" class="btn svelte-lz3ywn"></form>');function H(f,r){L(r,!0);const e=E();let s=d(""),a=d(""),t=d(!1);async function P(){try{m(t,!1),await e.login(i(s),i(a)),r.onSuccessfulLogin()}catch{console.log("Login failed!"),m(t,!0)}}C(()=>{e.user&&r.onSuccessfulLogin()});var g=A(),R=F(g);h(R,()=>e.user,n=>{j(n)},n=>{var l=G(),u=z(l);_(u);var p=b(u,2);_(p);var k=b(p,2);h(k,()=>i(t),o=>{var q=D();c(o,q)}),B(2),S(l),W("submit",l,P),y(u,()=>i(s),o=>m(s,o)),y(p,()=>i(a),o=>m(a,o)),c(n,l)}),c(f,g),x()}var I=v('<div class="form-container svelte-swxtik"><!></div>');function $(f,r){L(r,!0);const e=K();function s(){e.authRedirect===w+"/login/"&&(e.authRedirect=w+"/"),M(e.authRedirect)}var a=I(),t=z(a);H(t,{onSuccessfulLogin:s}),S(a),c(f,a),x()}export{$ as component};
