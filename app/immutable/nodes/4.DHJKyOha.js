import{c as A,a as m,t as v}from"../chunks/disclose-version.3pxfTOD3.js";import{Y as x,u as C,a2 as F,Z as L,x as i,w as d,ab as z,ac as b,ae as B,ad as S,y as c}from"../chunks/runtime.CmlS14Bi.js";import{g as E,a as W}from"../chunks/app.svelte.BGOzEepb.js";import{b as w,g as Y}from"../chunks/entry.C9kI70Q6.js";import{e as Z}from"../chunks/events.BuOQ88t5.js";import{i as h}from"../chunks/if.DlgO0pup.js";import{r as y}from"../chunks/attributes.COUECyro.js";import{b as _}from"../chunks/input.6evpc8xV.js";import{P as j}from"../chunks/ProgressBar.CIyjmtlw.js";var D=v('<b class="error svelte-lz3ywn">Wrong password!</b>'),G=v('<form class="form svelte-lz3ywn"><input class="email svelte-lz3ywn" type="email" placeholder="Email" required> <input class="password svelte-lz3ywn" type="password" placeholder="Password" required> <!> <input type="submit" value="Login" class="btn svelte-lz3ywn"></form>');function H(u,s){x(s,!0);const e=E();let r=d(""),a=d(""),t=d(!1);async function P(){try{c(t,!1),await e.login(i(r),i(a)),s.onSuccessfulLogin()}catch{console.log("Login failed!"),c(t,!0)}}C(()=>{e.user&&s.onSuccessfulLogin()});var g=A(),R=F(g);h(R,()=>e.user,n=>{j(n)},n=>{var l=G(),f=z(l);y(f);var p=b(f,2);y(p);var k=b(p,2);h(k,()=>i(t),o=>{var q=D();m(o,q)}),B(2),S(l),Z("submit",l,P),_(f,()=>i(r),o=>c(r,o)),_(p,()=>i(a),o=>c(a,o)),m(n,l)}),m(u,g),L()}var I=v('<div class="form-container svelte-swxtik"><!></div>');function X(u,s){x(s,!0);const e=W();function r(){e.authRedirect===w+"/login/"&&(e.authRedirect=w+"/"),Y(e.authRedirect)}var a=I(),t=z(a);H(t,{onSuccessfulLogin:r}),S(a),m(u,a),L()}export{X as component};
