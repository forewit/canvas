import{p as B,q as C,f as u,n as S,z as r,t as g,o as k}from"../chunks/disclose-version.O2WF0nc7.js";import{x as q,C as E,y as x,k as i,h as m,s as d}from"../chunks/runtime.Dbv-XAo5.js";import{a as v}from"../chunks/pagesState.svelte.B-8ndYN9.js";import{b as w,g as F}from"../chunks/entry.DO3heoAu.js";import{e as W}from"../chunks/events.Cy9EMw4Q.js";import{i as y}from"../chunks/if.BHyIsDAw.js";import{r as _}from"../chunks/attributes.Cp1N4Eub.js";import{b as z}from"../chunks/input.CW4h5qfD.js";import{a as j}from"../chunks/authUtils.Bop8eAqs.js";import{f as L}from"../chunks/firebaseState.svelte.DWNtUMFY.js";import{P as D}from"../chunks/ProgressBar.DLXwqb9-.js";var G=g('<b class="error svelte-lz3ywn">Wrong password!</b>'),H=g('<form class="form svelte-lz3ywn"><input class="email svelte-lz3ywn" type="email" placeholder="Email" required> <input class="password svelte-lz3ywn" type="password" placeholder="Password" required> <!> <input type="submit" value="Login" class="btn svelte-lz3ywn"></form>');function I(f,a){q(a,!0);let s=d(""),e=d(""),t=d(!1);async function P(){try{m(t,!1),await j(i(s),i(e)),a.onSuccessfulLogin()}catch{console.log("Login failed!"),m(t,!0)}}E(()=>{L.user&&a.onSuccessfulLogin()});var b=B(),R=C(b);y(R,()=>L.user,n=>{D(n)},n=>{var l=H(),c=S(l);_(c);var p=r(r(c,!0));_(p);var h=r(r(p,!0));y(h,()=>i(t),o=>{var A=G();u(o,A)}),r(r(h,!0)),k(l),W("submit",l,P),z(c,()=>i(s),o=>m(s,o)),z(p,()=>i(e),o=>m(e,o)),u(n,l)}),u(f,b),x()}var J=g('<div class="form-container svelte-swxtik"><!></div>');function $(f,a){q(a,!0);function s(){v.authRedirect===w+"/login/"&&(v.authRedirect=w+"/"),F(v.authRedirect)}var e=J(),t=S(e);I(t,{onSuccessfulLogin:s}),k(e),u(f,e),x()}export{$ as component};
