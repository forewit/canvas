import{n as q,o as B,f as m,x as L,y as a,t as g,z as x}from"../chunks/disclose-version.CkmYqOKb.js";import{A,u as E,B as P,h as i,g as u,s as v}from"../chunks/runtime.DKEa1FBX.js";import{P as F,g as W}from"../chunks/ProgressBar.CMPuuelg.js";import{b as w,g as j}from"../chunks/entry.DqKXhbBX.js";import{e as C}from"../chunks/events.mLRO6gWv.js";import{i as y}from"../chunks/if.BnNuHGQ4.js";import{r as _}from"../chunks/userState.svelte.BdjeXdIx.js";import{b as S}from"../chunks/input.D60udIMM.js";import{a as D}from"../chunks/authUtils.Bop8eAqs.js";import{f as z}from"../chunks/firebaseState.svelte.CNzMBGto.js";var G=g('<b class="error svelte-lz3ywn">Wrong password!</b>'),H=g('<form class="form svelte-lz3ywn"><input class="email svelte-lz3ywn" type="email" placeholder="Email" required> <input class="password svelte-lz3ywn" type="password" placeholder="Password" required> <!> <input type="submit" value="Login" class="btn svelte-lz3ywn"></form>');function I(f,t){A(t,!0);let e=v(""),s=v(""),r=v(!1);async function c(){try{u(r,!1),await D(i(e),i(s)),t.onSuccessfulLogin()}catch{console.log("Login failed!"),u(r,!0)}}E(()=>{z.user&&t.onSuccessfulLogin()});var b=q(),R=B(b);y(R,()=>z.user,n=>{F(n)},n=>{var l=H(),p=L(l);_(p);var d=a(a(p,!0));_(d);var h=a(a(d,!0));y(h,()=>i(r),o=>{var k=G();m(o,k)}),a(a(h,!0)),x(l),C("submit",l,c),S(p,()=>i(e),o=>u(e,o)),S(d,()=>i(s),o=>u(s,o)),m(n,l)}),m(f,b),P()}var J=g('<div class="form-container svelte-swxtik"><!></div>');function Z(f,t){A(t,!0);const e=W();function s(){e.authRedirect===w+"/login/"&&(e.authRedirect=w+"/"),j(e.authRedirect)}var r=J(),c=L(r);I(c,{onSuccessfulLogin:s}),x(r),m(f,r),P()}export{Z as component};
