const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["../chunks/quill.Bk4jDS0q.js","../chunks/core.CG__ofcG.js"])))=>i.map(i=>d[i]);
import{z as v,f as y,t as k,y as m,o as R,x as g}from"../chunks/disclose-version.CoemXm11.js";import{A as x,u as L,B as w,g as D,h as c,s as E,K as T}from"../chunks/runtime.CWsWNGOL.js";import{d as j}from"../chunks/events.MZf0TXMn.js";import{s as B,b as K,r as M}from"../chunks/input.DpgGelva.js";import{p as _}from"../chunks/proxy.DKiqHPpR.js";import{p as Q}from"../chunks/pagesState.svelte.BJoJOXIC.js";import{_ as C,b as I}from"../chunks/preload-helper.BM52cFUW.js";import{u as z,f as b}from"../chunks/firebaseState.svelte.D3AjtAtJ.js";import{a as F,o as H}from"../chunks/index-client.Co0rPzlc.js";import{b as S}from"../chunks/paths.DYdJgxtv.js";function A(t,e,n){if(n){if(t.classList.contains(e))return;t.classList.add(e)}else{if(!t.classList.contains(e))return;t.classList.remove(e)}}const O=async function(t,e){var r,o,s,u;const{Delta:n,Range:i}=await C(async()=>{const{Delta:d,Range:l}=await import("../chunks/core.CG__ofcG.js").then(f=>f.G);return{Delta:d,Range:l}},[],import.meta.url);for(var a=0;a<e.undo.length;a++){const d=(r=e.undo[a].range)==null?void 0:r.index,l=(o=e.undo[a].range)==null?void 0:o.length,f={delta:new n(e.undo[a].delta.ops),range:d!==void 0&&l!==void 0?new i(d,l):null};t.history.stack.undo.push(f)}for(var a=0;a<e.redo.length;a++){const l=(s=e.redo[a].range)==null?void 0:s.index,f=(u=e.redo[a].range)==null?void 0:u.length,p={delta:new n(e.redo[a].delta.ops),range:l!==void 0&&f!==void 0?new i(l,f):null};t.history.stack.redo.push(p)}},V=function(t){return structuredClone(t.history.stack)},G=async function(t,e){t.setContents(e.ops,"api"),await O(t,e.history)},J=function(t){const e=t.getContents().ops,n=V(t);return{ops:e,history:n}},N=function(t){t.formatText(0,t.getLength(),"link",!1,"api");const e=t.getText(),n=/https?:\/\/\S+/gi,i=e.matchAll(n);for(const o of i)t.formatText(o.index,o[0].length,"link",o[0],"api");const a=/.+\@.+\..+/gi,r=e.matchAll(a);for(const o of r)t.formatText(o.index,o[0].length,"link","mailto:"+o[0],"api")},U=function(t){t.keyboard.addBinding({key:"/",altKey:!0},W),t.keyboard.addBinding({key:"-",altKey:!0},X)},W=function(t){t.format("code",!t.getFormat().code)},X=function(t){t.format("strike",!t.getFormat().strike)};var Y=k('<div class="quill-editor-container svelte-7w4qtk"><div class="quill-editor"></div></div>');function Z(t,e){x(e,!0);let n=E(void 0),i;function a(s,u,d){d==="user"&&c(n)&&(N(c(n)),J(c(n)))}L(()=>{c(n)&&e.data&&G(c(n),e.data)}),L(()=>{c(n)&&c(n).root.setAttribute("spellcheck",z.spellcheck.toString())}),F(async()=>{const{default:s}=await C(async()=>{const{default:u}=await import("../chunks/quill.Bk4jDS0q.js");return{default:u}},__vite__mapDeps([0,1]),import.meta.url);D(n,_(new s(i,{formats:["size","align","indent","list","bold","italic","underline","strike","code","link"],placeholder:"Enter text here"}))),U(c(n)),c(n).on("text-change",a)}),H(()=>{var s;(s=c(n))==null||s.off("text-change",a)});var r=Y(),o=v(r);I(o,s=>i=s,()=>i),m(r),y(t,r),w()}var $=k('<div class="status svelte-1wdncpb"><span class="status-icon svelte-1wdncpb"></span></div>');function q(t,e){x(e,!0);var n=$(),i=v(n);B(i,"style",`-webkit-mask: url(${S??""}/images/icons/double-checkmark.svg) no-repeat center / contain;
        mask: url(${S??""}/images/icons/double-checkmark.svg) no-repeat center / contain;`),m(n),T(()=>{A(n,"saving",b.isPublishing),A(n,"saved",!b.isPublishing&&!b.isLoading)}),y(t,n),w()}var tt=()=>history.back(),et=k('<div class="page-container svelte-13stjm2"><header class="svelte-13stjm2"><button class="back-button svelte-13stjm2">Back</button> <input></header> <section><!></section></div> <div class="publishing-status svelte-13stjm2"><!></div>',1);function ft(t,e){x(e,!0);const n=e.data.id,i=Q.pages[n];let a=E(_({ops:[],history:{undo:[],redo:[]}}));var r=et(),o=R(r),s=v(o),u=v(s);u.__click=[tt];var d=g(g(u,!0));M(d),m(s);var l=g(g(s,!0)),f=v(l);Z(f,{get data(){return c(a)},set data(h){D(a,_(h))}}),m(l),m(o);var p=g(g(o,!0)),P=v(p);q(P,{}),m(p),K(d,()=>i.title,h=>i.title=h),y(t,r),w()}j(["click"]);export{ft as component};
