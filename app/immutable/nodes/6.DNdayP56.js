const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["../chunks/quill.Bk4jDS0q.js","../chunks/core.CG__ofcG.js"])))=>i.map(i=>d[i]);
import{a as _,t as k}from"../chunks/disclose-version.D8fhPq9M.js";import{Y as x,u as v,Z as b,i as w,f as i,e as C,ad as p,af as g,ae as y}from"../chunks/runtime.D_LhCXyF.js";import{d as D}from"../chunks/events.BJH2iLDa.js";import{r as E}from"../chunks/attributes.CdCRXyt-.js";import{b as R}from"../chunks/input.DHwiiGD3.js";import{p as h}from"../chunks/proxy.DiDwt1nQ.js";import{g as T}from"../chunks/pages.svelte.C5XGaOTi.js";import{_ as A,b as L}from"../chunks/preload-helper.CV0XaMWQ.js";import{a as M}from"../chunks/app.svelte.DnnDf6HZ.js";import{o as P,a as Q}from"../chunks/index-client.D7XHtNFG.js";const S=async function(t,e){var c,n,u,r;const{Delta:d,Range:a}=await A(async()=>{const{Delta:l,Range:s}=await import("../chunks/core.CG__ofcG.js").then(f=>f.G);return{Delta:l,Range:s}},[],import.meta.url);for(var o=0;o<e.undo.length;o++){const l=(c=e.undo[o].range)==null?void 0:c.index,s=(n=e.undo[o].range)==null?void 0:n.length,f={delta:new d(e.undo[o].delta.ops),range:l!==void 0&&s!==void 0?new a(l,s):null};t.history.stack.undo.push(f)}for(var o=0;o<e.redo.length;o++){const s=(u=e.redo[o].range)==null?void 0:u.index,f=(r=e.redo[o].range)==null?void 0:r.length,m={delta:new d(e.redo[o].delta.ops),range:s!==void 0&&f!==void 0?new a(s,f):null};t.history.stack.redo.push(m)}},B=function(t){return structuredClone(t.history.stack)},I=async function(t,e){t.setContents(e.ops,"api"),await S(t,e.history)},K=function(t){const e=t.getContents().ops,d=B(t);return{ops:e,history:d}},F=function(t){t.formatText(0,t.getLength(),"link",!1,"api");const e=t.getText(),d=/https?:\/\/\S+/gi,a=e.matchAll(d);for(const n of a)t.formatText(n.index,n[0].length,"link",n[0],"api");const o=/.+\@.+\..+/gi,c=e.matchAll(o);for(const n of c)t.formatText(n.index,n[0].length,"link","mailto:"+n[0],"api")},H=function(t){t.keyboard.addBinding({key:"/",altKey:!0},O),t.keyboard.addBinding({key:"-",altKey:!0},V)},O=function(t){t.format("code",!t.getFormat().code)},V=function(t){t.format("strike",!t.getFormat().strike)};var z=k('<div class="quill-editor-container svelte-7w4qtk"><div class="quill-editor"></div></div>');function G(t,e){x(e,!0);const d=M();let a=C(void 0),o;function c(r,l,s){s==="user"&&i(a)&&(F(i(a)),K(i(a)))}v(()=>{i(a)&&e.data&&I(i(a),e.data)}),v(()=>{i(a)&&i(a).root.setAttribute("spellcheck",d.spellcheck.toString())}),P(async()=>{const{default:r}=await A(async()=>{const{default:l}=await import("../chunks/quill.Bk4jDS0q.js");return{default:l}},__vite__mapDeps([0,1]),import.meta.url);w(a,h(new r(o,{formats:["size","align","indent","list","bold","italic","underline","strike","code","link"],placeholder:"Enter text here"}))),H(i(a)),i(a).on("text-change",c)}),Q(()=>{var r;(r=i(a))==null||r.off("text-change",c)});var n=z(),u=p(n);L(u,r=>o=r,()=>o),g(n),_(t,n),b()}var Y=()=>history.back(),Z=k('<div class="page-container svelte-skeare"><header class="svelte-skeare"><button class="back-button svelte-skeare">Back</button> <input></header> <section><!></section></div>');function ot(t,e){x(e,!0);const d=e.data.id,o=T()[d];let c=C(h({ops:[],history:{undo:[],redo:[]}}));var n=Z(),u=p(n),r=p(u);r.__click=[Y];var l=y(r,2);E(l),g(u);var s=y(u,2),f=p(s);G(f,{get data(){return i(c)},set data(m){w(c,h(m))}}),g(s),g(n),R(l,()=>o.title,m=>o.title=m),_(t,n),b()}D(["click"]);export{ot as component};
